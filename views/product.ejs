<!DOCTYPE html>
<html lang="en">
<head>
  <%- include('partials/head', {title: product.name}) %>
</head>
<body>
  <%- include('partials/navbar') %>
  
  <main class="container product-page">
    <div class="product-detail">
      <div class="product-gallery">
        <div class="main-image">
          <img src="<%= product.image %>" alt="<%= product.name %>">
        </div>
      </div>
      <div class="product-info">
        <h1><%= product.name %></h1>
        <div class="product-meta">
          <div class="rating">
            <% for (let i = 0; i < 5; i++) { %>
              <% if (i < Math.floor(product.rating)) { %>
                <i class="fas fa-star"></i>
              <% } else if (i < product.rating) { %>
                <i class="fas fa-star-half-alt"></i>
              <% } else { %>
                <i class="far fa-star"></i>
              <% } %>
            <% } %>
            <span>(<%= product.reviews %> reviews)</span>
          </div>
          <span class="category"><%= product.category %></span>
        </div>
        <p class="price">$<%= product.price.toFixed(2) %></p>
        <p class="description"><%= product.description %></p>
        
        <div class="product-actions">
          <div class="quantity-selector">
            <button class="quantity-btn minus">-</button>
            <input type="number" value="1" min="1" class="quantity-input">
            <button class="quantity-btn plus">+</button>
          </div>
          <button class="btn add-to-cart-btn" data-id="<%= product.id %>">
            <i class="fas fa-shopping-cart"></i> Add to Cart
          </button>
          <button class="btn outline add-to-wishlist-btn" data-id="<%= product.id %>">
            <i class="fas fa-heart"></i> Add to Wishlist
          </button>
        </div>
      </div>
    </div>
    
    <section class="product-reviews">
      <h2>Customer Reviews</h2>
      <div class="reviews-container">
        <!-- Reviews would be dynamically loaded here -->
      </div>
    </section>

    <section class="related-products">
      <h2>You May Also Like</h2>
      <div class="products-grid">
        <!-- Related products would be dynamically loaded here -->
      </div>
    </section>
  </main>

  <%- include('partials/footer') %>
  
  <script src="/js/theme.js"></script>
  <script src="/js/cart.js"></script>
  <script src="/js/wishlist.js"></script>
  <script src="/js/product.js"></script>
</body>
</html>